<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>Get Post测试</title>
    <style>
    .button{
        background-color: blanchedalmond;
        height: 60px;
        line-height: 60px;
        text-align: center;
        font-size: 1.4rem;
        margin: 10px;
    }
    </style>
  </head>
  <body>
    <div class="button" onclick="postL()">给本地发POST</div>
  <script>
      var data = "测试";
      var url = "http://vrv.linkdood.cn/platform/platform/message/send?access_token=access_token";
      function get(){
          var obj=new XMLHttpRequest();  // XMLHttpRequest对象用于在后台与服务器交换数据          
          obj.open('GET',url,true);
          obj.onreadystatechange = function(){
              if (obj.readyState === 4) { // readyState==4说明请求已完成
                  document.write(obj.responseText);
              }
          };
          obj.send(null);
      };

      function post() {
          var postData = JSON.stringify(data);
          var obj = new XMLHttpRequest();
          obj.open("POST", url, true);
          obj.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); // 发送信息至服务器时内容编码类型
          obj.onreadystatechange = function () {
              if (obj.readyState === 4) { // readyState==4说明请求已完成
                  document.write(obj.responseText);
              }
          };
          obj.send(postData);
      };

      function postL() {
          var postData = JSON.stringify(data);
          var obj = new XMLHttpRequest();
          obj.open("POST", "http://localhost:9999/nameLoginList", true);
          obj.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); // 发送信息至服务器时内容编码类型
          obj.onreadystatechange = function () {
              if (obj.readyState === 4) { // readyState==4说明请求已完成
                  document.write(obj.responseText);
              }
          };
          obj.send(postData);
      };
  </script>
  </body>
</html>
